(this.webpackJsonppodcastprioritizer=this.webpackJsonppodcastprioritizer||[]).push([[0],{21:function(e,t,a){},27:function(e,t,a){e.exports=a(53)},32:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(25),r=a.n(i),l=(a(32),a(2)),o=a(3),c=a(5),u=a(4),p=a(6),m=a.n(p),d=(a(21),a(26)),h=function(e){return s.a.createElement("div",{className:"popupBack"},s.a.createElement("div",{className:"popup"},s.a.createElement("p",null,"Error")))},g=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleChangeText=function(t){t.preventDefault(),e.setState(Object(d.a)({},t.target.name,t.target.value))},e.selectChange=function(t){console.log(t.target.options[t.target.selectedIndex].text),e.setState({podcastInput:t.target.options[t.target.selectedIndex].text,genreSelected:t.target.value})},e.state={podcastInput:"",userInputFrom:"",userInputTo:"",genres:[],genreSelected:"",popUpError:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;m()({url:"https://listen-api.listennotes.com/api/v2/genres",method:"GET",responseType:"json",headers:{"X-ListenAPI-Key":"d45d36385df142229be4941f98e07c20"}}).then((function(t){e.setState({genres:t.data.genres})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("form",null,s.a.createElement("label",{htmlFor:"userInputFrom"},"From"),s.a.createElement("input",{type:"text",name:"userInputFrom",id:"userInputFrom",value:this.state.userInputFrom,onChange:this.handleChangeText}),s.a.createElement("label",{htmlFor:"userInputTo"},"To"),s.a.createElement("input",{type:"text",name:"userInputTo",id:"userInputTo",value:this.state.userInputTo,onChange:this.handleChangeText}),s.a.createElement("label",{htmlFor:"podcastInput"}),s.a.createElement("input",{onChange:this.handleChangeText,type:"text",name:"podcastInput",id:"podcastInput",value:this.state.podcastInput}),s.a.createElement("select",{type:"genresSelect",id:"genreSelect",name:"genreSelect",onChange:this.selectChange},s.a.createElement("option",{value:""},"Please select an genre"),this.state.genres.map((function(e){return s.a.createElement("option",{value:e.id,key:e.id},e.name)}))),this.state.popUpError?s.a.createElement(h,null):null,s.a.createElement("button",{onClick:function(t){t.preventDefault(),e.state.podcastInput&&e.state.userInputFrom&&e.state.userInputTo?(e.props.inputText(t,e.state.podcastInput,e.state.genreSelected),e.props.locationData(t,e.state.userInputFrom,e.state.userInputTo),e.setState({podcastInput:"",userInputFrom:"",userInputTo:"",genreSelected:"",popUpError:!1})):(console.log("Error"),e.setState({popUpError:!0}))}},"Click me")))}}]),a}(n.Component),f=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).displaySuggestion=function(t){t.preventDefault(),e.setState({displaySuggestion:!e.state.displaySuggestion})},e.state={displaySuggestion:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.transitTime,a=e.title,n=(e.description,e.length),i=e.image,r=e.savePodcast,l=e.listenUrl,o=e.id;return s.a.createElement("li",null,s.a.createElement("button",{onClick:this.displaySuggestion,className:"podcastButton"},s.a.createElement("div",{className:"thumbnailWrapper"},s.a.createElement("img",{src:i,alt:a}),s.a.createElement("p",null,a))),s.a.createElement("button",{onClick:function(e){r(e,a,i,l,o)}},"Save podcast"),s.a.createElement("div",{onClick:this.displaySuggestion,className:"suggestion",style:{display:this.state.displaySuggestion?"block":"none"}},Math.round(n/60)<=1?s.a.createElement("p",null,"podcast length:",Math.round(n/60)," minute "):s.a.createElement("p",null,"podcast length:",Math.round(n/60)," minutes"),s.a.createElement("p",null," walk:",t.pedestrian," minutes"),s.a.createElement("p",null,"bike:",t.bicycle," minutes"),s.a.createElement("p",null,"drive:",t.fastest," minutes"),n/60<t.fastest?s.a.createElement("p",null,"suggestion: you should drive"):n/60<t.bicycle?s.a.createElement("p",null,"suggestion: you should bike"):s.a.createElement("p",null,"suggestion: you should walk")))}}]),a}(n.Component),E=function(e){var t=e.title,a=e.listenURL,n=e.image,i=e.id,r=e.deletePodcast;return s.a.createElement("li",{className:"podcastItem"},s.a.createElement("p",null,t),s.a.createElement("div",{className:"podcastImageWrapper"},s.a.createElement("img",{src:n,alt:t})),s.a.createElement("a",{href:a}),s.a.createElement("button",{onClick:function(e){r(e,i)}},"Delete"))},v=a(10),y=a.n(v);a(49),a(51);y.a.initializeApp({apiKey:"AIzaSyBA4ai_gR73-t0M4UwfozSqZG4kFu7k3GA",authDomain:"podcastprioritizer.firebaseapp.com",databaseURL:"https://podcastprioritizer.firebaseio.com",projectId:"podcastprioritizer",storageBucket:"podcastprioritizer.appspot.com",messagingSenderId:"703854841662",appId:"1:703854841662:web:25566ffa1b31854dd7e66f"});var b=y.a,I=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).login=function(){var t=new b.auth.GoogleAuthProvider;b.auth().signInWithPopup(t).then((function(t){var a=t.user;e.setState({user:a,userId:a.uid})}))},e.logout=function(){b.auth().signOut().then((function(){e.setState({user:null,userId:"",podcastList:[]})}))},e.savePodcast=function(t,a,n,s,i){var r=b.database().ref();t.preventDefault();var l={title:a,image:n,listenUrl:s};r.child("".concat(e.state.userId,"/").concat(i)).set(l)},e.deletePodcast=function(t,a){t.preventDefault(),b.database().ref(e.state.userId).child(a).remove()},e.timeChange=function(e){var t=e.split(":");return parseInt(60*t[0])+parseInt(t[1])+parseInt(t[2]/60)},e.locationData=function(t,a,n){t.preventDefault();var s=[],i={};""!==a&&""!==n&&m()({url:"https://www.mapquestapi.com/staticmap/v5/map",method:"GET",responseType:"json",params:{key:"x3MrPIPmomzlRE4OXlE1fjsepd4chw3q",format:"png",start:a,end:n,size:"200,200",countryCode:"CA",scalebar:!0,margin:40}}).then((function(t){console.log(t),e.setState({mapUrl:t.request.responseURL})})),e.state.modes.forEach((function(t){m()({url:"https://www.mapquestapi.com/directions/v2/route",method:"GET",responseType:"json",params:{key:"x3MrPIPmomzlRE4OXlE1fjsepd4chw3q",from:a,to:n,routeType:t,manMaps:!0}}).then((function(a){console.log(a.data.route),s.push(a.data.route),i[t]=e.timeChange(a.data.route.formattedTime),console.log(i)})).catch((function(e){console.log(e)}))})),setTimeout((function(){e.setState({results:s,transitTime:i,displayTransit:!0}),console.log(e.state.transitTime)}),800)},e.podcastCall=function(t,a,n){t.preventDefault(),m()({url:"https://listen-api.listennotes.com/api/v2/search",method:"GET",responseType:"json",headers:{"X-ListenAPI-Key":"d45d36385df142229be4941f98e07c20"},params:{q:a,len_max:e.state.transitTime.pedestrian,genre_ids:n}}).then((function(t){console.log(t.data.results),e.setState({podcasts:t.data.results})}))},e.clearResults=function(){e.setState({podcasts:[]}),window.scrollTo(0,0)},e.state={results:[],modes:["bicycle","pedestrian","fastest"],genres:[],transitTime:{},podcasts:[],mapUrl:"",displayTransit:!1,user:null,userId:"anonymous",podcastList:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.auth().onAuthStateChanged((function(t){t&&e.setState({user:t}),e.setState({userId:e.state.user.uid});var a=b.database().ref(e.state.userId);a.on("value",(function(t){console.log(a);var n=[],s=t.val();for(var i in s)n.push({key:i,podcasts:s[i]});e.setState({podcastList:n})}))}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App wrapper"},s.a.createElement("header",null,s.a.createElement("h1",null,"Podcast Prioritizer ",s.a.createElement("i",{class:"fas fa-headphones"})),s.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis ducimus laudantium quisquam, necessitatibus vel adipisci officiis nesciunt dolorum, distinctio, eaque deleniti sequi! Soluta officia cumque at alias cupiditate nesciunt exercitationem?")),s.a.createElement("ul",null,this.state.podcastList.map((function(t){var a=t.key,n=t.podcasts;return s.a.createElement(E,{key:a,title:n.title,image:n.image,listenURL:n.listenURL,deletePodcast:e.deletePodcast,id:a})}))),this.state.user?s.a.createElement("button",{onClick:this.logout},"Log out"):s.a.createElement("button",{onClick:this.login},"Log In "),s.a.createElement(g,{inputText:this.podcastCall,locationData:this.locationData}),s.a.createElement("div",{className:"transitMap"},s.a.createElement("div",{className:"map"},s.a.createElement("img",{src:this.state.mapUrl})),s.a.createElement("ul",{className:"transit",style:{display:this.state.displayTransit?"block":"none"}},this.state.transitTime.pedestrian<=1?s.a.createElement("li",null,"walk time: ",this.state.transitTime.pedestrian," minute"):s.a.createElement("li",null,"walk time: ",this.state.transitTime.pedestrian," minutes"),this.state.transitTime.bicycle<=1?s.a.createElement("li",null,"bike time: ",this.state.transitTime.bicycle," minute"):s.a.createElement("li",null,"bike time: ",this.state.transitTime.bicycle," minutes"),this.state.transitTime.fastest<=1?s.a.createElement("li",null,"car time: ",this.state.transitTime.fastest," minute"):s.a.createElement("li",null,"car time: ",this.state.transitTime.fastest," minutes"))),s.a.createElement("ul",null,this.state.podcasts.map((function(t){var a=t.id,n=t.image,i=t.title_original,r=t.description_original,l=t.audio_length_sec,o=t.listennotes_url;return s.a.createElement(f,{key:a,image:n,title:i,description:r,length:l,transitTime:e.state.transitTime,savePodcast:e.savePodcast,listenUrl:o,id:a})}))),0!==this.state.podcasts.length?s.a.createElement("button",{onClick:this.clearResults},"Start over"):null)}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.88790f7c.chunk.js.map