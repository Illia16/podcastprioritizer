(this.webpackJsonppodcastprioritizer=this.webpackJsonppodcastprioritizer||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},22:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(16),r=n.n(o),l=(n(22),n(2)),i=n(3),u=n(5),c=n(4),p=n(6),m=n.n(p),d=(n(40),function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).handleChangeText=function(t){t.preventDefault(),e.setState({podcastInput:t.target.value})},e.handleFromOnChange=function(t){t.preventDefault(),e.setState({userInputFrom:t.target.value})},e.handleToOnChange=function(t){t.preventDefault(),e.setState({userInputTo:t.target.value})},e.selectChange=function(t){console.log(t.target.options[t.target.selectedIndex].text),e.setState({podcastInput:t.target.options[t.target.selectedIndex].text,genreSelected:t.target.value})},e.state={podcastInput:"",userInputFrom:"",userInputTo:"",genres:[],genreSelected:""},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;m()({url:"https://listen-api.listennotes.com/api/v2/genres",method:"GET",responseType:"json",headers:{"X-ListenAPI-Key":"d45d36385df142229be4941f98e07c20"}}).then((function(t){e.setState({genres:t.data.genres})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("form",null,s.a.createElement("label",{htmlFor:"userInputFrom"},"From"),s.a.createElement("input",{type:"text",name:"userInputFrom",id:"userInputFrom",value:this.state.userInputFrom,onChange:this.handleFromOnChange}),s.a.createElement("label",{htmlFor:"userInputTo"},"To"),s.a.createElement("input",{type:"text",name:"userInputTo",id:"userInputTo",value:this.state.userInputTo,onChange:this.handleToOnChange}),s.a.createElement("label",{htmlFor:"podcastInput"}),s.a.createElement("input",{onChange:this.handleChangeText,type:"text",name:"podcastInput",id:"podcastInput",value:this.state.podcastInput}),s.a.createElement("select",{type:"genresSelect",id:"genreSelect",name:"genreSelect",onChange:this.selectChange},s.a.createElement("option",{value:""},"Please select an genre"),this.state.genres.map((function(e){return s.a.createElement("option",{value:e.id,key:e.id},e.name)}))),s.a.createElement("button",{onClick:function(t){e.props.inputText(t,e.state.podcastInput,e.state.genreSelected),e.props.locationData(t,e.state.userInputFrom,e.state.userInputTo),e.setState({podcastInput:"",userInputFrom:"",userInputTo:"",genreSelected:""})}},"Click me")))}}]),n}(a.Component)),h=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).displaySuggestion=function(t){t.preventDefault(),e.setState({displaySuggestion:!e.state.displaySuggestion})},e.state={displaySuggestion:!1},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.transitTime,n=e.title,a=(e.description,e.length),o=e.image;return s.a.createElement("li",null,s.a.createElement("button",{onClick:this.displaySuggestion,className:"podcastButton"},s.a.createElement("div",{className:"thumbnailWrapper"},s.a.createElement("img",{src:o,alt:n}),s.a.createElement("p",null,n))),s.a.createElement("div",{onClick:this.displaySuggestion,className:"suggestion",style:{display:this.state.displaySuggestion?"block":"none"}},Math.round(a/60)<=1?s.a.createElement("p",null,"podcast length:",Math.round(a/60)," ","minute"):s.a.createElement("p",null,"podcast length:",Math.round(a/60)," ","minutes"),s.a.createElement("p",null," walk:",t.pedestrian," minutes"),s.a.createElement("p",null,"bike:",t.bicycle," minutes"),s.a.createElement("p",null,"drive:",t.fastest," minutes"),a/60<t.fastest?s.a.createElement("p",null,"suggestion: you should drive"):a/60<t.bicycle?s.a.createElement("p",null,"suggestion: you should bike"):s.a.createElement("p",null,"suggestion: you should walk")))}}]),n}(a.Component),g=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).timeChange=function(e){var t=e.split(":");return parseInt(60*t[0])+parseInt(t[1])+parseInt(t[2]/60)},e.locationData=function(t,n,a){t.preventDefault();var s=[],o={};e.state.modes.forEach((function(t){m()({url:"https://www.mapquestapi.com/directions/v2/route",method:"GET",responseType:"json",params:{key:"x3MrPIPmomzlRE4OXlE1fjsepd4chw3q",from:n,to:a,routeType:t}}).then((function(n){console.log(n.data.route),s.push(n.data.route),o[t]=e.timeChange(n.data.route.formattedTime),console.log(o)})).catch((function(e){console.log(e)}))})),setTimeout((function(){e.setState({results:s,transitTime:o})}),800)},e.podcastCall=function(t,n,a){t.preventDefault(),m()({url:"https://listen-api.listennotes.com/api/v2/search",method:"GET",responseType:"json",headers:{"X-ListenAPI-Key":"d45d36385df142229be4941f98e07c20"},params:{q:n,len_max:e.state.transitTime.pedestrian,genre_ids:a}}).then((function(t){console.log(t.data.results),e.setState({podcasts:t.data.results})}))},e.clearResults=function(){e.setState({podcasts:[]}),window.scrollTo(0,0)},e.state={results:[],modes:["bicycle","pedestrian","fastest"],genres:[],transitTime:{},podcasts:[]},e.inputRef=s.a.createRef(),e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App wrapper"},s.a.createElement(d,{inputText:this.podcastCall,locationData:this.locationData}),s.a.createElement("ul",null,this.state.podcasts.map((function(t){var n=t.id,a=t.image,o=t.title_original,r=t.description_original,l=t.audio_length_sec;return s.a.createElement(h,{key:n,image:a,title:o,description:r,length:l,transitTime:e.state.transitTime})}))),0!==this.state.podcasts.length?s.a.createElement("button",{onClick:this.clearResults},"Start over"):null)}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.c5810135.chunk.js.map